!function(t){var e={};function n(o){if(e[o])return e[o].exports;var i=e[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(o,i,function(e){return t[e]}.bind(null,i));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=6)}([function(t,e,n){(function(t){function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}(function(t){!function(){var e={click:1,dblclick:1,keyup:1,keypress:1,keydown:1,mousedown:1,mouseup:1,mousemove:1,mouseover:1,mouseenter:1,mouseleave:1,mouseout:1,storage:1,storagecommit:1,textinput:1};if("undefined"!=typeof document&&"undefined"!=typeof window){var n=window.Event&&window.Event.prototype||null;window.Event=Window.prototype.Event=function(e,n){if(!e)throw new Error("Not enough arguments");var o;if("createEvent"in document){o=document.createEvent("Event");var i=!(!n||n.bubbles===t)&&n.bubbles,r=!(!n||n.cancelable===t)&&n.cancelable;return o.initEvent(e,i,r),o}return(o=document.createEventObject()).type=e,o.bubbles=!(!n||n.bubbles===t)&&n.bubbles,o.cancelable=!(!n||n.cancelable===t)&&n.cancelable,o},n&&Object.defineProperty(window.Event,"prototype",{configurable:!1,enumerable:!1,writable:!0,value:n}),"createEvent"in document||(window.addEventListener=Window.prototype.addEventListener=Document.prototype.addEventListener=Element.prototype.addEventListener=function(){var t=this,n=arguments[0],i=arguments[1];if(t===window&&n in e)throw new Error("In IE8 the event: "+n+" is not available on the window object. Please see https://github.com/Financial-Times/polyfill-service/issues/317 for more information.");t._events||(t._events={}),t._events[n]||(t._events[n]=function(e){var n,i=t._events[e.type].list,r=i.slice(),a=-1,s=r.length;for(e.preventDefault=function(){!1!==e.cancelable&&(e.returnValue=!1)},e.stopPropagation=function(){e.cancelBubble=!0},e.stopImmediatePropagation=function(){e.cancelBubble=!0,e.cancelImmediate=!0},e.currentTarget=t,e.relatedTarget=e.fromElement||null,e.target=e.target||e.srcElement||t,e.timeStamp=(new Date).getTime(),e.clientX&&(e.pageX=e.clientX+document.documentElement.scrollLeft,e.pageY=e.clientY+document.documentElement.scrollTop);++a<s&&!e.cancelImmediate;)a in r&&-1!==o(i,n=r[a])&&"function"==typeof n&&n.call(t,e)},t._events[n].list=[],t.attachEvent&&t.attachEvent("on"+n,t._events[n])),t._events[n].list.push(i)},window.removeEventListener=Window.prototype.removeEventListener=Document.prototype.removeEventListener=Element.prototype.removeEventListener=function(){var t,e=this,n=arguments[0],i=arguments[1];e._events&&e._events[n]&&e._events[n].list&&-1!==(t=o(e._events[n].list,i))&&(e._events[n].list.splice(t,1),e._events[n].list.length||(e.detachEvent&&e.detachEvent("on"+n,e._events[n]),delete e._events[n]))},window.dispatchEvent=Window.prototype.dispatchEvent=Document.prototype.dispatchEvent=Element.prototype.dispatchEvent=function(t){if(!arguments.length)throw new Error("Not enough arguments");if(!t||"string"!=typeof t.type)throw new Error("DOM Events Exception 0");var e=this,n=t.type;try{if(!t.bubbles){t.cancelBubble=!0;var o=function t(o){o.cancelBubble=!0,(e||window).detachEvent("on"+n,t)};this.attachEvent("on"+n,o)}this.fireEvent("on"+n,t)}catch(o){t.target=e;do{t.currentTarget=e,"_events"in e&&"function"==typeof e._events[n]&&e._events[n].call(e,t),"function"==typeof e["on"+n]&&e["on"+n].call(e,t),e=9===e.nodeType?e.parentWindow:e.parentNode}while(e&&!t.cancelBubble)}return!0},document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&document.dispatchEvent(new Event("DOMContentLoaded",{bubbles:!0}))})))}function o(t,e){for(var n=-1,o=t.length;++n<o;)if(n in t&&t[n]===e)return n;return-1}}(),function(t,e){"use strict";if(!("IntersectionObserver"in t&&"IntersectionObserverEntry"in t&&"intersectionRatio"in t.IntersectionObserverEntry.prototype)){var n=[];i.prototype.THROTTLE_TIMEOUT=100,i.prototype.POLL_INTERVAL=null,i.prototype.observe=function(t){if(!this._observationTargets.some((function(e){return e.element==t}))){if(!t||1!=t.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:t,entry:null}),this._monitorIntersections()}},i.prototype.unobserve=function(t){this._observationTargets=this._observationTargets.filter((function(e){return e.element!=t})),this._observationTargets.length||(this._unmonitorIntersections(),this._unregisterInstance())},i.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorIntersections(),this._unregisterInstance()},i.prototype.takeRecords=function(){var t=this._queuedEntries.slice();return this._queuedEntries=[],t},i.prototype._initThresholds=function(t){var e=t||[0];return Array.isArray(e)||(e=[e]),e.sort().filter((function(t,e,n){if("number"!=typeof t||isNaN(t)||t<0||t>1)throw new Error("threshold must be a number between 0 and 1 inclusively");return t!==n[e-1]}))},i.prototype._parseRootMargin=function(t){var e=(t||"0px").split(/\s+/).map((function(t){var e=/^(-?\d*\.?\d+)(px|%)$/.exec(t);if(!e)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(e[1]),unit:e[2]}}));return e[1]=e[1]||e[0],e[2]=e[2]||e[0],e[3]=e[3]||e[1],e},i.prototype._monitorIntersections=function(){this._monitoringIntersections||(this._monitoringIntersections=!0,this._checkForIntersections(),this.POLL_INTERVAL?this._monitoringInterval=setInterval(this._checkForIntersections,this.POLL_INTERVAL):(r(t,"resize",this._checkForIntersections,!0),r(e,"scroll",this._checkForIntersections,!0),"MutationObserver"in t&&(this._domObserver=new MutationObserver(this._checkForIntersections),this._domObserver.observe(e,{attributes:!0,childList:!0,characterData:!0,subtree:!0}))))},i.prototype._unmonitorIntersections=function(){this._monitoringIntersections&&(this._monitoringIntersections=!1,clearInterval(this._monitoringInterval),this._monitoringInterval=null,a(t,"resize",this._checkForIntersections,!0),a(e,"scroll",this._checkForIntersections,!0),this._domObserver&&(this._domObserver.disconnect(),this._domObserver=null))},i.prototype._checkForIntersections=function(){var e=this._rootIsInDom(),n=e?this._getRootRect():{top:0,bottom:0,left:0,right:0,width:0,height:0};this._observationTargets.forEach((function(i){var r=i.element,a=s(r),c=this._rootContainsTarget(r),l=i.entry,u=e&&c&&this._computeTargetAndRootIntersection(r,n),d=i.entry=new o({time:t.performance&&performance.now&&performance.now(),target:r,boundingClientRect:a,rootBounds:n,intersectionRect:u});l?e&&c?this._hasCrossedThreshold(l,d)&&this._queuedEntries.push(d):l&&l.isIntersecting&&this._queuedEntries.push(d):this._queuedEntries.push(d)}),this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)},i.prototype._computeTargetAndRootIntersection=function(n,o){if("none"!=t.getComputedStyle(n).display){for(var i,r,a,c,u,d,p,f,h=s(n),m=l(n),v=!1;!v;){var g=null,y=1==m.nodeType?t.getComputedStyle(m):{};if("none"==y.display)return;if(m==this.root||m==e?(v=!0,g=o):m!=e.body&&m!=e.documentElement&&"visible"!=y.overflow&&(g=s(m)),g&&(i=g,r=h,a=void 0,c=void 0,u=void 0,d=void 0,p=void 0,f=void 0,a=Math.max(i.top,r.top),c=Math.min(i.bottom,r.bottom),u=Math.max(i.left,r.left),d=Math.min(i.right,r.right),f=c-a,!(h=(p=d-u)>=0&&f>=0&&{top:a,bottom:c,left:u,right:d,width:p,height:f})))break;m=l(m)}return h}},i.prototype._getRootRect=function(){var t;if(this.root)t=s(this.root);else{var n=e.documentElement,o=e.body;t={top:0,left:0,right:n.clientWidth||o.clientWidth,width:n.clientWidth||o.clientWidth,bottom:n.clientHeight||o.clientHeight,height:n.clientHeight||o.clientHeight}}return this._expandRectByRootMargin(t)},i.prototype._expandRectByRootMargin=function(t){var e=this._rootMarginValues.map((function(e,n){return"px"==e.unit?e.value:e.value*(n%2?t.width:t.height)/100})),n={top:t.top-e[0],right:t.right+e[1],bottom:t.bottom+e[2],left:t.left-e[3]};return n.width=n.right-n.left,n.height=n.bottom-n.top,n},i.prototype._hasCrossedThreshold=function(t,e){var n=t&&t.isIntersecting?t.intersectionRatio||0:-1,o=e.isIntersecting?e.intersectionRatio||0:-1;if(n!==o)for(var i=0;i<this.thresholds.length;i++){var r=this.thresholds[i];if(r==n||r==o||r<n!=r<o)return!0}},i.prototype._rootIsInDom=function(){return!this.root||c(e,this.root)},i.prototype._rootContainsTarget=function(t){return c(this.root||e,t)},i.prototype._registerInstance=function(){n.indexOf(this)<0&&n.push(this)},i.prototype._unregisterInstance=function(){var t=n.indexOf(this);-1!=t&&n.splice(t,1)},t.IntersectionObserver=i,t.IntersectionObserverEntry=o}function o(t){this.time=t.time,this.target=t.target,this.rootBounds=t.rootBounds,this.boundingClientRect=t.boundingClientRect,this.intersectionRect=t.intersectionRect||{top:0,bottom:0,left:0,right:0,width:0,height:0};try{this.isIntersecting=!!t.intersectionRect}catch(t){}var e=this.boundingClientRect,n=e.width*e.height,o=this.intersectionRect,i=o.width*o.height;this.intersectionRatio=n?i/n:this.isIntersecting?1:0}function i(t,e){var n,o,i,r=e||{};if("function"!=typeof t)throw new Error("callback must be a function");if(r.root&&1!=r.root.nodeType)throw new Error("root must be an Element");this._checkForIntersections=(n=this._checkForIntersections.bind(this),o=this.THROTTLE_TIMEOUT,i=null,function(){i||(i=setTimeout((function(){n(),i=null}),o))}),this._callback=t,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(r.rootMargin),this.thresholds=this._initThresholds(r.threshold),this.root=r.root||null,this.rootMargin=this._rootMarginValues.map((function(t){return t.value+t.unit})).join(" ")}function r(t,e,n,o){"function"==typeof t.addEventListener?t.addEventListener(e,n,o||!1):"function"==typeof t.attachEvent&&t.attachEvent("on"+e,n)}function a(t,e,n,o){"function"==typeof t.removeEventListener?t.removeEventListener(e,n,o||!1):"function"==typeof t.detatchEvent&&t.detatchEvent("on"+e,n)}function s(t){var e;try{e=t.getBoundingClientRect()}catch(t){}return e?(e.width&&e.height||(e={top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.right-e.left,height:e.bottom-e.top}),e):{top:0,bottom:0,left:0,right:0,width:0,height:0}}function c(t,e){for(var n=e;n;){if(n==t)return!0;n=l(n)}return!1}function l(t){var e=t.parentNode;return e&&11==e.nodeType&&e.host?e.host:e}}(window,document)}).call("object"===("undefined"==typeof window?"undefined":e(window))&&window||"object"===("undefined"==typeof self?"undefined":e(self))&&self||"object"===(void 0===t?"undefined":e(t))&&t||{})}).call(this,n(1))},function(t,e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o;o=function(){return this}();try{o=o||new Function("return this")()}catch(t){"object"===("undefined"==typeof window?"undefined":n(window))&&(o=window)}t.exports=o},function(t,e){Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector)},function(t,e){"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(t){"use strict";if(null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var o=arguments[n];if(null!==o)for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(e[i]=o[i])}return e},writable:!0,configurable:!0})},function(t,e){if("function"!=typeof window.CustomEvent){var n=function(t,e){e=e||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),n};n.prototype=window.Event.prototype,window.CustomEvent=n}},function(t,e,n){var o;!function(){"use strict";var i,r={name:"doT",version:"1.1.1",templateSettings:{evaluate:/\{\{([\s\S]+?(\}?)+)\}\}/g,interpolate:/\{\{=([\s\S]+?)\}\}/g,encode:/\{\{!([\s\S]+?)\}\}/g,use:/\{\{#([\s\S]+?)\}\}/g,useParams:/(^|[^\w$])def(?:\.|\[[\'\"])([\w$\.]+)(?:[\'\"]\])?\s*\:\s*([\w$\.]+|\"[^\"]+\"|\'[^\']+\'|\{[^\}]+\})/g,define:/\{\{##\s*([\w\.$]+)\s*(\:|=)([\s\S]+?)#\}\}/g,defineParams:/^\s*([\w$]+):([\s\S]+)/,conditional:/\{\{\?(\?)?\s*([\s\S]*?)\s*\}\}/g,iterate:/\{\{~\s*(?:\}\}|([\s\S]+?)\s*\:\s*([\w$]+)\s*(?:\:\s*([\w$]+))?\s*\}\})/g,varname:"it",strip:!0,append:!0,selfcontained:!1,doNotSkipEncoded:!1},template:void 0,compile:void 0,log:!0};r.encodeHTMLSource=function(t){var e={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},n=t?/[&<>"'\/]/g:/&(?!#?\w+;)|<|>|"|'|\//g;return function(t){return t?t.toString().replace(n,(function(t){return e[t]||t})):""}},i=function(){return this||(0,eval)("this")}(),t.exports?t.exports=r:void 0===(o=function(){return r}.call(e,n,e,t))||(t.exports=o);var a={append:{start:"'+(",end:")+'",startencode:"'+encodeHTML("},split:{start:"';out+=(",end:");out+='",startencode:"';out+=encodeHTML("}},s=/$^/;function c(t){return t.replace(/\\('|\\)/g,"$1").replace(/[\r\t\n]/g," ")}r.template=function(t,e,n){var o,l,u=(e=e||r.templateSettings).append?a.append:a.split,d=0,p=e.use||e.define?function t(e,n,o){return("string"==typeof n?n:n.toString()).replace(e.define||s,(function(t,n,i,r){return 0===n.indexOf("def.")&&(n=n.substring(4)),n in o||(":"===i?(e.defineParams&&r.replace(e.defineParams,(function(t,e,i){o[n]={arg:e,text:i}})),n in o||(o[n]=r)):new Function("def","def['"+n+"']="+r)(o)),""})).replace(e.use||s,(function(n,i){e.useParams&&(i=i.replace(e.useParams,(function(t,e,n,i){if(o[n]&&o[n].arg&&i){var r=(n+":"+i).replace(/'|\\/g,"_");return o.__exp=o.__exp||{},o.__exp[r]=o[n].text.replace(new RegExp("(^|[^\\w$])"+o[n].arg+"([^\\w$])","g"),"$1"+i+"$2"),e+"def.__exp['"+r+"']"}})));var r=new Function("def","return "+i)(o);return r?t(e,r,o):r}))}(e,t,n||{}):t;p=("var out='"+(e.strip?p.replace(/(^|\r|\n)\t* +| +\t*(\r|\n|$)/g," ").replace(/\r|\n|\t|\/\*[\s\S]*?\*\//g,""):p).replace(/'|\\/g,"\\$&").replace(e.interpolate||s,(function(t,e){return u.start+c(e)+u.end})).replace(e.encode||s,(function(t,e){return o=!0,u.startencode+c(e)+u.end})).replace(e.conditional||s,(function(t,e,n){return e?n?"';}else if("+c(n)+"){out+='":"';}else{out+='":n?"';if("+c(n)+"){out+='":"';}out+='"})).replace(e.iterate||s,(function(t,e,n,o){return e?(d+=1,l=o||"i"+d,e=c(e),"';var arr"+d+"="+e+";if(arr"+d+"){var "+n+","+l+"=-1,l"+d+"=arr"+d+".length-1;while("+l+"<l"+d+"){"+n+"=arr"+d+"["+l+"+=1];out+='"):"';} } out+='"})).replace(e.evaluate||s,(function(t,e){return"';"+c(e)+"out+='"}))+"';return out;").replace(/\n/g,"\\n").replace(/\t/g,"\\t").replace(/\r/g,"\\r").replace(/(\s|;|\}|^|\{)out\+='';/g,"$1").replace(/\+''/g,""),o&&(e.selfcontained||!i||i._encodeHTML||(i._encodeHTML=r.encodeHTMLSource(e.doNotSkipEncoded)),p="var encodeHTML = typeof _encodeHTML !== 'undefined' ? _encodeHTML : ("+r.encodeHTMLSource.toString()+"("+(e.doNotSkipEncoded||"")+"));"+p);try{return new Function(e.varname,p)}catch(t){throw"undefined"!=typeof console&&console.log("Could not create a template function: "+p),t}},r.compile=function(t,e){return r.template(t,null,e)}}()},function(t,e,n){"use strict";n.r(e);n(0),n(2),n(3),n(4);function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Element.prototype.delegateEvent=function(t,e,n){this.addEventListener(t,(function(t){var o=function(t,e){var n;return t.matches("selector")||(n=lm.getClosest(t,e)),n}(t.target,e);o&&(Object.defineProperty(t,"target",{value:o}),n(t))}))};var i=[],r={cartUpdate:{async:!0,description:"Event pour l'ajout panier, data attendue :  listProducts représentant un array d'objet, chaque objet représentant un produit",data:["listProducts"]},context:{async:!1,description:"Changement du magasin de contextualization",data:["idMag"]},componentTcVarsReady:{async:!1,description:"Fired lorsque les données CommandersAct du composant sont prêtes pour envoi",data:["tcvars"]},componentJsonldReady:{async:!0,description:"Fired lorsque les données Jsonld du composant sont prêtes pour envoi",data:["jsonld"]},userInfoAvailable:{async:!0,description:"Fired lorsque les données clients de l'internaute sont disponible (retour API ou cache)",data:["userInfo"]},selectedFilters:{async:!0,description:"Fired lorsque l'utilisateur sélectionne un filtres dans les pages famille produits",data:["filters"]},personalData:{async:!0,description:"Fired lorsque l'utilisateur clic sur la lien form de contact dans la page CGU",data:["button"]},productSoldOnWeb:{async:!0,description:"Fired if product is sold online and can be added to cart. Send ONLY if it's available online.",data:["product"]},refreshTcVars:{async:!0,description:"To fire only when [data-tcvars] values have changed in ajax (such as filter, pagination, ...) in order to rebuild and send the new tcVars"}},a=function(t){var e=this,n=r[t].async,o=r[t].data;this[t]=function(i){for(var r=0;r<o.length;r++)if(void 0===i[o[r]])return void console.error("Le param <".concat(o[r],"> est manquant"));i.emitterId=e.id;var a=new CustomEvent(t,{detail:i});n?setTimeout((function(){document.dispatchEvent(a)}),1):document.dispatchEvent(a)},Object.defineProperty(this,t,{writable:!1})};var s=function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),lm.polyfillsLoading.push({name:e,loaded:!1});var o=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=document.createElement("script");return n.src=t,e?n.defer=!0:n.async=!0,document.head.appendChild(n),n}(n,!1);c(e,o)},c=function(t,e){e.addEventListener("load",(function(){var e;lm.polyfillsLoading.forEach((function(n){n.name===t&&(e=n)})),e.loaded=!0,document.dispatchEvent(new CustomEvent(t))}))},l={set:function(t,e,n){var o;if(n){var i=new Date;i.setTime(i.getTime()+24*n*60*60*1e3),o="expires=".concat(i.toUTCString())}document.cookie="".concat(t,"=").concat(e,";").concat(o,";path=/")},get:function(t){for(var e="".concat(t,"="),n=document.cookie.split(";"),o=0;o<n.length;o++){for(var i=n[o];" "===i.charAt(0);)i=i.substring(1);if(0===i.indexOf(e))return i.substring(e.length,i.length)}return""},delete:function(t){l.set(t,"",-1)}};function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var d={init:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"LMData";setTimeout((function(){if(!g("localStorage"))return"storage not available";if(v("LMData")){var e=m(t);y(e)}else d.preset(t)}),0)},preset:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"LMData";if(!g("localStorage"))return lm.cookie.get("".concat(t,"localStorage"))||lm.cookie.set("".concat(t,"localStorage"),JSON.stringify({})),void(lm.cookie.get("".concat(t,"sessionStorage"))||lm.cookie.set("".concat(t,"sessionStorage"),JSON.stringify({})));window.localStorage.getItem(t)||(window.localStorage[t]=JSON.stringify({})),window.sessionStorage.getItem(t)||(window.sessionStorage[t]=JSON.stringify({}))},get:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"localStorage",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"LMData",o=m(n);return o[e]&&o[e][t]?o[e][t].data:(window.DEBUG&&console.warn('Key "'.concat(t,'" don\'t exist in "').concat(e,'"')),"")},set:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"localStorage",i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"LMData";if("object"!==u(e)&&"string"!=typeof e)return console.error("L'objet \"".concat(t,'" passé en paramètre est invalide')),!1;if(!g("localStorage")&&e.length>2e3)return console.error("L'objet \"".concat(t,'" passé en paramètre est trop volumineux')),!1;var r=m(i);return r[o][t]={expire:f(n),data:e},h(o,r,i),r[o][t]},delete:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"localStorage",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"LMData",o=m(n);return o[e][t]&&(delete o[e][t],h(e,o,n)),o},exist:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"localStorage",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"LMData",o=m(n);return!!o[e]&&void 0!==o[e][t]},getExpireDate:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"localStorage",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"LMData",o=m(n);if(o[e]&&o[e][t])return o[e][t].expire}},p=(new Date).getTime(),f=function(t){return p+24*t*60*60*1e3},h=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"LMData";g("localStorage")?window[t].setItem(n,JSON.stringify(e[t])):lm.cookie.set(n+t,JSON.stringify(e[t]))},m=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"LMData",e={};return g("localStorage")?(e.localStorage=JSON.parse(window.localStorage.getItem(t))||{},e.sessionStorage=JSON.parse(window.sessionStorage.getItem(t))||{},e):(e.localStorage=JSON.parse(lm.cookie.get("".concat(t,"localStorage")))||{},e.sessionStorage=JSON.parse(lm.cookie.get("".concat(t,"sessionStorage")))||{},e)},v=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"LMData";return!(!window.localStorage.getItem(t)&&!window.sessionStorage.getItem(t))},g=function(t){try{var e=window[t],n="__storage_test__";return e.setItem(n,n),e.removeItem(n),!0}catch(t){return!1}},y=function(t){Object.keys(t).forEach((function(e){Object.keys(t[e]).forEach((function(n){p>t[e][n].expire&&d.delete(n,e)}))}))};d.init();var b=n(5),w={},E=function(){return lm.polyfillsLoading.every((function(t){return t.loaded}))},_=function(t){/comp|inter|loaded/.test(document.readyState)?t():document.addEventListener("DOMContentLoaded",t,!1)};function S(t){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function L(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var k=[],I=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var o={content:null,blocked:!1,id:"js-popin-".concat(k.length+1),desktopSize:"m",fullscreen:!1,displayed:!1,onOpen:function(){return!0},onClose:function(){return!0}};e.mobileFullscreen&&(e.fullscreen=e.mobileFullscreen,delete e.mobileFullscreen),this.options=Object.assign(o,e),this.body=document.querySelector("body"),this.html=document.querySelector("html"),null!==this.options.content&&("object"===S(this.options.content)?this.popin=this.generatePopinDOM():"string"==typeof this.options.content&&(this.popin=document.querySelector(this.options.content))),this.popinContainer=this.popin.querySelector(".js-popin-inner"),this.popinHeader=this.popin.querySelector(".js-popin-header"),this.popinContent=this.popin.querySelector(".js-popin-body"),this.popinFooter=this.popin.querySelector(".js-popin-footer"),this.popinContainerStyle=getComputedStyle(this.popinContainer),this.popinHeaderStyle=getComputedStyle(this.popinHeader),this.popinFooter&&(this.popinFooterStyle=getComputedStyle(this.popinFooter)),this.overlay=this.generateOverlayDOM(),this.firstFocusable=this.popin.querySelector("button.close, [href], input, select, textarea, button")||this.popin,this.popin.delegateEvent("click",".js-close-popin",(function(t){t.stopPropagation(),n.close()})),this.overlay.addEventListener("click",(function(t){n.options.blocked||n.popin.matches(".kl-hidden")||!n.overlay.matches(".is-visible")||(t.stopPropagation(),n.close())})),this.restrictFocus(),this.escapePopin(),k.push(this)}var e,n,o;return e=t,(n=[{key:"open",value:function(){var t=this;this.closeOtherPopins(),this.lastActiveElement=document.activeElement;var e='<span class="kl-hidden" data-popin-placeholder="'.concat(this.options.id,'"></span>');this.popin.insertAdjacentHTML("beforebegin",e),this.body.insertBefore(this.popin,this.body.children[0]),this.popin.setAttribute("tabindex","0"),this.popin.setAttribute("aria-hidden","false");for(var n=1;n<this.body.children.length;n++)this.body.children[n].setAttribute("aria-hidden","true");this.firstFocusable.focus(),this.html.style.scrollBehavior="auto",this.html.classList.add("is-scroll-locked"),this.displayed=!0,this.overlay.classList.remove("kl-hidden"),this.overlay.classList.add("is-showing"),this.popin.classList.add("is-showing"),this.popin.classList.remove("kl-hidden"),setTimeout((function(){t.setMaxContentHeight(),t.overlay.classList.remove("is-showing"),t.overlay.classList.add("is-visible"),t.popin.classList.remove("is-showing"),t.options.onOpen()}),400)}},{key:"close",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{chainedPopin:!1};if(!e.chainedPopin){this.lastActiveElement.focus(),this.html.classList.remove("is-scroll-locked");var n=this.body.querySelector('[data-popin-placeholder="'.concat(this.options.id,'"]'));n.insertAdjacentElement("beforebegin",this.popin),n.parentNode.removeChild(n),this.popin.setAttribute("tabindex","-1"),this.popin.setAttribute("aria-hidden","true");for(var o=1;o<this.body.children.length;o++)this.body.children[o].setAttribute("aria-hidden","false");this.overlay.classList.add("is-hiding"),this.overlay.classList.remove("is-visible"),setTimeout((function(){t.overlay.classList.add("kl-hidden"),t.overlay.classList.remove("is-hiding")}),400)}this.displayed=!1,this.popin.classList.add("is-hiding"),setTimeout((function(){t.popin.classList.remove("is-hiding"),t.popin.classList.add("kl-hidden"),t.options.onClose()}),400)}},{key:"closeOtherPopins",value:function(){lm.forEach(k,(function(t){t.displayed&&t.close({chainedPopin:!0})}))}},{key:"restrictFocus",value:function(){var t=this;document.addEventListener("focus",(function(e){t.popin.matches(".kl-hidden")||t.popin.contains(e.target)||(e.stopPropagation(),t.firstFocusable.focus())}),!0)}},{key:"escapePopin",value:function(){var t=this;document.addEventListener("keydown",(function(e){27!==e.keyCode&&"Escape"!==e.code||!t.displayed||t.close()}))}},{key:"generatePopinDOM",value:function(){return this.body.insertAdjacentHTML("beforeend",lm.template('\n\n{{##def.fullscreen:\n\t{{? it.fullscreen}}\n\t\tkl-popin--fullscreen\n\t{{?}}\n#}}\n\n<div class="kl-popin kl-hidden {{=it.content.cssClass}} {{#def.fullscreen}} js-popin" data-name="{{=it.id}}" tabindex="-1" role="dialog" aria-labelledby="{{=it.id}}-title">\n\t{{##def.colClass:\n\t\t{{? it.desktopSize == "s"}}\n\t\t\tcol-12 col-l-6 col-start-l-4 col-xl-4 col-start-xl-5 col-xxl-4 col-start-xxl-5\n\t\t{{?? it.desktopSize == "m"}}\n\t\t\tcol-12 col-l-10 col-start-l-2 col-xl-6 col-start-xl-4 col-xxl-6 col-start-xxl-4\n\t\t{{?? it.desktopSize == "l"}}\n\t\t\tcol-12 col-l-10 col-start-l-2 col-xl-8 col-start-xl-3 col-xxl-8 col-start-xxl-3\n\t\t{{?}}\n\t#}}\n\n\n\t<div class="kl-popin__inner {{#def.colClass}} js-popin-inner">\n\t    <header class="kl-popin__header js-popin-header">\n\n\t\t\t{{? it.content.headerHTML}}\n\t\t\t\t{{=it.content.headerHTML}}\n\t\t\t{{??}}\n\t\t    \t{{? !it.blocked}}\n\t\t            <button class="kl-popin__close js-close-popin" aria-label="Fermer">\n\t\t                <svg class="ku-icon-24"><use href="#Navigation_Control_Cross_24px"></use></svg>\n\t\t            </button>\n\t\t        {{?}}\n\n\t\t        <h1 class="kl-popin__title mt-heading mt-heading--l mt-heading--semi-bold" id="{{=it.id}}-title">\n\t\t        \t{{=it.content.title}}\n\t\t        </h1>\n\n\t\t        {{? it.content.subTitle}}\n\t\t\t\t\t<h2 class="kl-popin__subtitle">\n\t\t\t\t\t\t{{=it.content.subTitle}}\n\t\t\t\t\t</h2>\n\t\t\t\t{{?}}\n\t\t\t{{?}}\n\t    </header>\n\n\t  <div class="kl-popin__body js-popin-body">\n\t\t\t{{=it.content.contentHTML}}\n\t\t</div>\n\n\t\t{{? it.content.footerHTML}}\n\t\t\t<footer class="kl-popin__footer js-popin-footer">\n\t\t\t\t{{=it.content.footerHTML}}\n\t\t\t</footer>\n\t\t{{?}}\n\t</div>\n\n</div>\n',this.options)),document.querySelector('div[data-name="'.concat(this.options.id,'"]'))}},{key:"generateOverlayDOM",value:function(){return document.getElementById("js-popin-overlay")||this.body.insertAdjacentHTML("beforeend",lm.template('<div id="js-popin-overlay" class="kl-popin-overlay kl-hidden"></div>')),document.getElementById("js-popin-overlay")}},{key:"setMaxContentHeight",value:function(){var t=this.popinContainer.offsetHeight;t-=this.popinHeader.offsetHeight,t-=parseInt(this.popinContainerStyle.paddingTop),t-=parseInt(this.popinContainerStyle.paddingBottom),t-=parseInt(this.popinHeaderStyle.marginBottom),this.popinFooter&&(t-=this.popinFooter.offsetHeight,t-=parseInt(this.popinFooterStyle.marginTop)),this.popinContent.style.maxHeight="".concat(t,"px")}},{key:"scroll",get:function(){return this.html.dataset.revertScroll||0}}])&&L(e.prototype,n),o&&L(e,o),t}(),T="undefined"!=typeof document&&document.documentMode,O=(HTMLImageElement.prototype,{rootMargin:"100px",threshold:0,load:function(t){if("picture"===t.nodeName.toLowerCase()){var e=document.createElement("img");T&&t.getAttribute("data-iesrc")&&(e.src=t.getAttribute("data-iesrc")),t.getAttribute("data-alt")&&(e.alt=t.getAttribute("data-alt")),t.getAttribute("data-class")&&e.classList.add(t.getAttribute("data-class")),!T&&t.getAttribute("data-default")&&(e.src=t.getAttribute("data-default")),t.appendChild(e)}if(t.getAttribute("data-src")&&(t.src=t.getAttribute("data-src")),t.getAttribute("data-srcset")&&t.setAttribute("srcset",t.getAttribute("data-srcset")),t.getAttribute("data-background-image")&&(t.style.backgroundImage="url('".concat(t.getAttribute("data-background-image"),"')")),t.getAttribute("data-src-content")){var n=new CustomEvent("contentLoading");document.dispatchEvent(n)}},loaded:function(){}});function x(t){t.classList.add("lazy-loaded"),t.classList.remove("lazy")}var M=function(t){return"true"===t.getAttribute("data-loaded")},j=function(t,e){return function(n,o){n.forEach((function(n){(n.intersectionRatio>0||n.isIntersecting)&&(o.unobserve(n.target),M(n.target)||(t(n.target),x(n.target),e(n.target)))}))}},C=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;return t instanceof Element?[t]:t instanceof NodeList?t:e.querySelectorAll(t)};var A=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object.assign({},O,e),o=n.root,i=n.rootMargin,r=n.threshold,a=n.load,s=n.loaded,c=new IntersectionObserver(j(a,s),{root:o,rootMargin:i,threshold:r});return{observe:function(){for(var e=C(t,o),n=0;n<e.length;n++)M(e[n])||(c?c.observe(e[n]):(a(e[n]),x(e[n]),s(e[n])))},triggerLoad:function(t){M(t)||(a(t),x(t),s(t))},observer:c}};function P(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return R(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return R(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var o=0,i=function(){};return{s:i,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,r=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw r}}}}function R(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}window.lm={},window.tc_vars={},Math.sign||(Math.sign=function(t){return(t>0)-(t<0)||+t}),lm.Composant=function t(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(o(this,t),!n){for(var s=document.querySelectorAll("[id^=component-".concat(e,"], header[id^=").concat(e,"], footer[id^=").concat(e,"]")),c=0;c<s.length;c++){for(var l=!1,u=i.length-1;u>=0;u--)i[u].id===s[c].id&&(l=!0);if(!l){this.target=s[c],this.id=s[c].id;break}}this.target||console.warn("Le module <".concat(e,"> n'existe pas dans la page ou a déjà été instancié.")),i.push({id:this.id,target:this.target}),void 0!==performance.mark&&performance.mark("Component ".concat(e," ready")),console.log("Le module <".concat(e,"> a été instancié."))}for(var d in r)a.call(this,d);this.customExtend&&this.customExtend.call(this)},lm.modules=i,lm.events=r,lm.fetch=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{if(!t.url)throw new Error("Le param 'url' est obligatoire : Ex : {url: 'https://www.leroymerlin.fr'}");var e={method:"GET",headers:{"Content-Type":"text/html",Cache:"no-cache"},credentials:"same-origin"};for(var n in t)"url"!==n&&"callback"!==n&&"data"!==n&&(e[n]=t[n]);var o={success:t.success||function(t){console.log(t)},error:t.error||function(t){console.log(t)},complete:t.complete||function(){return!0}},i=encodeURIComponent,r=t.data?Object.keys(t.data).map((function(e){return"".concat(i(e),"=").concat(i(t.data[e]))})).join("&"):"",a=t.url;t.url.includes("?")?a="".concat(t.url,"&").concat(r):""!==r&&(a="".concat(t.url,"?").concat(r)),fetch(a,e).then((function(t){var e={status:t.status,headers:t.headers};t.ok?t.text().then((function(t){o.success(t,e),o.complete()})):t.text().then((function(t){o.error(t,e),o.complete()}))})).catch((function(t){o.error(t,{status:500,headers:new Headers({})}),o.complete()}))}catch(t){return!1}},lm.forEach=function(t,e){var n,o;for(n=0,o=t.length;n<o;n++)e(t[n],n)},lm.getClosest=function(t,e){for(;t&&t!==document;t=t.parentNode)if(t.matches(e))return t;return!1},lm.cookie=l,lm.localStorageLM=d,lm.normalize=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t,o={spaces:!1,punctuation:!1,accents:!1,lowercase:!0};if((e=Object.assign(o,e)).punctuation||(n=n.replace(/([!"#$%&'()*+,-./:;<=>?@[\]^_`{|}~])/g,"_")),e.spaces||(n=n.replace(/\s/g,"_")),!e.accents){var i=/[àáâãäçèéêëìíîïñòóôõöùúûüýÿÀÁÂÃÄÇÈÉÊËÌÍÎÏÑÒÓÔÕÖÙÚÛÜÝ]/g,r="aaaaaceeeeiiiinooooouuuuyyAAAAACEEEEIIIINOOOOOUUUUY";n=n.replace(i,(function(t){return r.substr(i.source.indexOf(t)-1,1)}))}return e.lowercase&&(n=n.toLowerCase()),n=(n=(n=n.replace(/(_)+/g,"_")).replace(/(_)+$/,"")).replace(/^(_)+/,"")},lm.template=function(t,e){if(t in w)return w[t](e);var n=b.template(t),o={};return o[t]=n,Object.assign(w,o),n(e)},lm.Popin=I,lm.lazyload=null,lm.DOMReady=function(t){lm.polyfillsLoading&&!E()?lm.polyfillsLoading.forEach((function(e){e.loaded||document.addEventListener(e.name,(function(){E()&&_(t)}),!1)})):_(t)},lm.localStorageLM.init(),lm.polyfillsLoading||(lm.polyfillsLoading=[]),self.fetch&&"undefined"!=typeof Promise||new s("fetchPolyfill","https://s1.lmcdn.fr/lmfr-site/4.0.1/static/polyfill/common/_fetch.js"),void 0!==Array.from&&"undefined"!=typeof Symbol||new s("arraySpreadPolyfill","https://s1.lmcdn.fr/lmfr-site/4.0.1/static/polyfill/common/_arraySpread.js"),lm.DOMReady((function(){lm.lazyload=A(".lazy, [loading=lazy]"),lm.lazyload.observe();var t=window.navigator.userAgent;if(t.indexOf("MSIE ")>=0||t.match(/Trident.*rv\:11\./)){var e=document.createElement("link");e.rel="stylesheet",e.type="text/css",e.href="https://s1.lmcdn.fr/lmfr-site/4.0.1/static/css/grid.polyfill.css",document.body.appendChild(e)}var n,o=P(document.head.querySelectorAll("link.lazy-src"));try{for(o.s();!(n=o.n()).done;){var i=n.value;i.href=i.dataset.href}}catch(t){o.e(t)}finally{o.f()}var r,a=P(document.head.querySelectorAll("script.lazy-src"));try{for(a.s();!(r=a.n()).done;){var s=r.value;s.src=s.dataset.src}}catch(t){a.e(t)}finally{a.f()}})),void 0!==performance.mark&&performance.mark("Common.js has run")}]);